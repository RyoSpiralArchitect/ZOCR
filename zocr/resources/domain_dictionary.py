# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (C) 2024 ZOCR contributors

"""Domain-specific keyword dictionaries for the built-in toy OCR lexicon."""
from __future__ import annotations

from typing import Dict, Iterable, Optional, Set

DOMAIN_KEYWORDS: Dict[str, Set[str]] = {
    "invoice_ja": {
        "請求書",
        "御請求書",
        "請求日",
        "請求番号",
        "請求先",
        "御請求金額",
        "請求金額",
        "合計金額",
        "小計",
        "消費税",
        "税率",
        "支払期日",
        "振込先",
        "摘要",
        "数量",
        "単価",
        "金額",
        "発行日",
    },
    "invoice_en": {
        "invoice",
        "invoice number",
        "bill to",
        "ship to",
        "customer",
        "amount due",
        "total due",
        "total amount",
        "subtotal",
        "tax",
        "tax amount",
        "due date",
        "line item",
        "quantity",
        "unit price",
        "balance",
        "payment terms",
    },
    "purchase_order_ja": {
        "発注書",
        "御発注書",
        "発注番号",
        "注文日",
        "納期",
        "納入場所",
        "仕入先",
        "品番",
        "品名",
        "数量",
        "単価",
        "金額",
        "担当者",
        "承認",
    },
    "purchase_order_en": {
        "purchase order",
        "po number",
        "order date",
        "vendor",
        "supplier",
        "ship to",
        "bill to",
        "item",
        "sku",
        "quantity",
        "unit price",
        "amount",
        "requested by",
        "approval",
    },
    "medical_bill_ja": {
        "診療明細",
        "診療科",
        "患者氏名",
        "保険者",
        "被保険者番号",
        "自己負担",
        "点数",
        "投薬",
        "手術",
        "入院",
        "外来",
        "領収済",
    },
    "medical_bill_en": {
        "medical bill",
        "patient",
        "provider",
        "policy number",
        "diagnosis",
        "procedure",
        "cpt",
        "icd",
        "copay",
        "deductible",
        "amount billed",
        "insurance",
    },
    "customs_declaration_ja": {
        "輸入申告",
        "輸出申告",
        "通関",
        "税関",
        "課税価格",
        "仕向地",
        "仕出地",
        "原産国",
        "HSコード",
        "輸送手段",
        "重量",
        "関税",
    },
    "customs_declaration_en": {
        "customs declaration",
        "importer",
        "exporter",
        "hs code",
        "tariff",
        "duty",
        "origin country",
        "port of entry",
        "gross weight",
        "net weight",
        "invoice value",
        "freight",
    },
    "grant_application_ja": {
        "助成金",
        "交付申請",
        "事業計画",
        "研究計画",
        "申請者",
        "代表者",
        "所属",
        "予算",
        "支出計画",
        "成果目標",
    },
    "grant_application_en": {
        "grant application",
        "funding request",
        "principal investigator",
        "project summary",
        "budget",
        "milestone",
        "deliverable",
        "reviewer",
        "award amount",
        "timeline",
    },
    "boarding_pass_ja": {
        "搭乗券",
        "便名",
        "搭乗口",
        "搭乗時刻",
        "出発時刻",
        "到着時刻",
        "座席番号",
        "搭乗日",
        "航空券",
        "搭乗案内",
        "搭乗開始",
        "搭乗締切",
        "航空会社",
        "航空券番号",
        "予約番号",
        "旅客名",
        "搭乗券番号",
        "搭乗クラス",
        "手荷物許容量",
        "保安検査場",
        "出発ターミナル",
        "到着ターミナル",
        "座席指定",
        "搭乗グループ",
        "バーコード",
        "座席列",
        "航空機",
    },
    "boarding_pass_en": {
        "boarding pass",
        "flight",
        "gate",
        "boarding time",
        "departure",
        "arrival",
        "seat",
        "pnr",
        "record locator",
        "boarding group",
        "gate closes",
        "terminal",
        "ticket number",
        "seat assignment",
        "seat class",
        "boarding sequence",
        "frequent flyer",
        "priority boarding",
        "baggage allowance",
        "carry-on",
        "checked baggage",
        "status",
        "operated by",
        "airline code",
        "departure gate",
        "arrival gate",
    },
    "rental_agreement_ja": {
        "賃貸借契約書",
        "契約期間",
        "賃料",
        "敷金",
        "礼金",
        "管理費",
        "更新料",
        "物件住所",
        "甲",
        "乙",
        "借主住所",
        "貸主住所",
        "契約開始日",
        "契約終了日",
        "敷金返還",
        "共益費",
        "契約条項",
        "特約",
        "禁止事項",
        "物件概要",
        "面積",
        "保証人",
        "連帯保証人",
        "火災保険",
        "鍵交換費用",
        "原状回復",
        "違約金",
    },
    "rental_agreement_en": {
        "lease agreement",
        "rental agreement",
        "tenant",
        "landlord",
        "rent",
        "deposit",
        "security deposit",
        "premises",
        "lease term",
        "renewal",
        "tenant address",
        "landlord address",
        "lease commencement",
        "lease expiration",
        "renewal option",
        "pet deposit",
        "maintenance fee",
        "common area",
        "exclusive use",
        "premises description",
        "square footage",
        "guarantor",
        "cosigner",
        "insurance requirement",
        "holdover",
        "termination clause",
        "default remedy",
        "notice period",
    },
    "loan_statement_ja": {
        "返済予定表",
        "元金",
        "利息",
        "返済額",
        "残高",
        "償還",
        "返済期日",
        "ボーナス払い",
        "借入金",
        "返済金額",
        "元利金",
        "利率",
        "遅延損害金",
        "借入残高",
        "借入金額",
        "約定返済額",
        "繰上返済",
        "借入日",
        "返済回数",
        "返済方法",
        "保証料",
        "担保",
        "借入人",
        "借入先",
    },
    "loan_statement_en": {
        "loan statement",
        "principal",
        "interest",
        "installment",
        "payment date",
        "maturity",
        "amortization",
        "balance",
        "escrow",
        "payment schedule",
        "installment amount",
        "principal balance",
        "interest charge",
        "apr",
        "late fee",
        "delinquent",
        "balloon payment",
        "prepayment",
        "outstanding balance",
        "loan number",
        "statement date",
        "maturity date",
        "escrow analysis",
        "lender",
        "servicer",
        "payment coupon",
        "remittance address",
        "auto debit",
    },
    "travel_itinerary_ja": {
        "旅程",
        "出発地",
        "到着地",
        "経由地",
        "予約番号",
        "宿泊",
        "ホテル",
        "便名",
        "集合時刻",
        "観光",
        "旅程表",
        "予約確認書",
        "区間",
        "出発空港",
        "到着空港",
        "宿泊施設",
        "発券番号",
        "座席クラス",
        "同行者",
        "現地連絡先",
        "集合場所",
        "チェックイン",
        "チェックアウト",
        "観光予定",
        "移動手段",
        "旅行会社",
        "ツアー名",
        "旅行日程",
    },
    "travel_itinerary_en": {
        "itinerary",
        "departure",
        "arrival",
        "layover",
        "booking reference",
        "confirmation number",
        "hotel",
        "check-in",
        "check-out",
        "tour",
        "itinerary number",
        "confirmation code",
        "record locator",
        "departure airport",
        "arrival airport",
        "hotel confirmation",
        "car rental",
        "pickup",
        "dropoff",
        "tour operator",
        "meeting point",
        "local contact",
        "segment",
        "layover duration",
        "travel agency",
        "ticket number",
        "trip overview",
    },
    "bank_statement_ja": {
        "取引明細",
        "口座番号",
        "支店",
        "振込",
        "入金",
        "出金",
        "引落",
        "残高",
        "利息",
        "摘要",
        "金融機関名",
        "口座種別",
        "普通預金",
        "当座預金",
        "取引日",
        "支払金額",
        "預入金額",
        "振込金額",
        "入金額",
        "引落額",
        "摘要欄",
        "振込人",
        "差引残高",
        "繰越残高",
        "手数料",
        "入出金明細",
        "自動引落",
        "利用明細",
        "口座名義",
    },
    "bank_statement_en": {
        "bank statement",
        "account number",
        "routing",
        "deposit",
        "withdrawal",
        "transaction",
        "balance",
        "interest",
        "statement period",
        "available balance",
        "financial institution",
        "account type",
        "checking account",
        "savings account",
        "transaction date",
        "posted date",
        "deposit amount",
        "withdrawal amount",
        "transfer",
        "payee",
        "memo",
        "running balance",
        "ending balance",
        "average balance",
        "interest earned",
        "service charge",
        "atm withdrawal",
        "direct deposit",
        "check number",
    },
    "utility_bill_ja": {
        "ご使用量",
        "電気料金",
        "ガス料金",
        "水道料金",
        "検針日",
        "契約種別",
        "請求金額",
        "支払期限",
        "基本料金",
        "従量料金",
    },
    "utility_bill_en": {
        "utility bill",
        "meter reading",
        "usage",
        "billing period",
        "service address",
        "rate plan",
        "amount due",
        "due date",
        "kwh",
        "therms",
        "meter number",
        "account number",
        "customer number",
        "current charges",
        "previous balance",
        "payment received",
        "tariff",
        "supply charge",
        "delivery charge",
        "usage history",
        "meter read",
        "usage period",
        "gallons",
    },
    "insurance_claim_ja": {
        "保険金請求",
        "被保険者",
        "保険証券",
        "事故日",
        "診断書",
        "給付金",
        "支払額",
        "担当者",
        "通知",
    },
    "insurance_claim_en": {
        "insurance claim",
        "policy number",
        "insured",
        "claim number",
        "incident date",
        "adjuster",
        "coverage",
        "payout",
        "medical report",
        "settlement",
        "claimant",
        "date of loss",
        "loss description",
        "benefit amount",
        "claim status",
        "adjuster name",
        "supporting documentation",
        "police report",
        "payment decision",
        "denial reason",
        "coverage limit",
        "deductible met",
        "provider",
        "claim form",
        "accident details",
        "incident location",
    },
    "tax_form_ja": {
        "確定申告",
        "課税所得",
        "控除額",
        "源泉徴収",
        "税額控除",
        "所得区分",
        "扶養控除",
        "住民税",
        "申告区分",
        "所得控除",
        "医療費控除",
        "寄附金控除",
        "社会保険料控除",
        "基礎控除",
        "課税標準",
        "課税所得金額",
        "事業所得",
        "給与所得",
        "配偶者控除",
        "青色申告",
        "白色申告",
        "申告書第一表",
        "申告書第二表",
        "収支内訳書",
        "添付書類",
    },
    "tax_form_en": {
        "tax form",
        "taxpayer",
        "filing status",
        "taxable income",
        "deduction",
        "withholding",
        "refund",
        "credits",
        "dependents",
        "adjusted gross income",
        "taxpayer identification",
        "filing year",
        "tax liability",
        "credits applied",
        "refundable credit",
        "nonrefundable credit",
        "extension filed",
        "payment voucher",
        "direct debit",
        "bank account number",
        "routing number",
        "estimated tax",
        "form w-2",
        "form 1099",
        "schedule c",
        "schedule d",
        "schedule se",
        "standard deduction",
    },
    "payslip_ja": {
        "給与明細",
        "支給額",
        "基本給",
        "控除",
        "社会保険",
        "厚生年金",
        "所得税",
        "差引支給額",
        "勤怠",
        "残業",
        "支給年月",
        "支給期間",
        "総支給",
        "控除一覧",
        "社会保険料",
        "健康保険",
        "厚生年金保険",
        "雇用保険料",
        "所得税額",
        "住民税額",
        "交通費",
        "住宅手当",
        "家族手当",
        "深夜残業",
        "休日出勤",
        "勤怠情報",
        "有給休暇",
        "出勤日数",
        "社員コード",
        "所属部署",
    },
    "payslip_en": {
        "payslip",
        "pay stub",
        "gross pay",
        "net pay",
        "deductions",
        "benefits",
        "overtime",
        "hours worked",
        "tax",
        "withholding",
        "pay period",
        "earnings type",
        "deduction type",
        "federal withholding",
        "state withholding",
        "local tax",
        "social security tax",
        "medicare tax",
        "benefit deduction",
        "401k",
        "pto balance",
        "vacation",
        "sick leave",
        "regular hours",
        "overtime hours",
        "employee number",
        "department",
    },
    "shipping_notice_ja": {
        "出荷案内",
        "納品書",
        "発送",
        "出荷日",
        "納品日",
        "配送業者",
        "追跡番号",
        "数量",
        "品番",
        "受領印",
        "出荷案内書",
        "納品予定日",
        "入荷予定日",
        "配送会社",
        "配送拠点",
        "出荷倉庫",
        "搬入先",
        "納入指示",
        "配送指示書",
        "梱包内容",
        "重量計",
        "容積",
        "混載",
        "出荷担当",
        "受領確認",
        "検品結果",
        "配送状況",
        "到着予定",
    },
    "shipping_notice_en": {
        "shipping notice",
        "shipment",
        "delivery",
        "ship date",
        "carrier",
        "tracking",
        "packing list",
        "item",
        "quantity",
        "received",
        "advanced shipment notice",
        "asn",
        "shipment status",
        "estimated arrival",
        "estimated delivery",
        "carrier code",
        "tracking number",
        "bill of lading",
        "packing slip",
        "handling unit",
        "package id",
        "pallet id",
        "dock appointment",
        "receiving location",
        "ship from",
        "ship to",
        "logistics provider",
        "pro number",
        "delivery confirmation",
    },
    "expense_report_ja": {
        "経費精算",
        "申請日",
        "立替金",
        "交通費",
        "宿泊費",
        "交際費",
        "領収書",
        "承認者",
        "申請者",
        "精算金額",
    },
    "expense_report_en": {
        "expense report",
        "reimbursement",
        "employee",
        "category",
        "receipt",
        "amount",
        "approved by",
        "submit date",
        "travel",
        "meals",
    },
}

_EXTRA_DOMAIN_KEYWORDS: Dict[str, Iterable[str]] = {
    "invoice_ja": {
        "取引先",
        "御中",
        "件名",
        "発行元",
        "発行会社",
        "銀行名",
        "支店名",
        "口座番号",
        "科目",
        "支払条件",
        "支払方法",
        "請求期間",
        "繰越額",
        "差引金額",
        "残高",
        "備考",
        "担当者",
        "振込手数料",
        "検収",
        "押印",
        "支払依頼書",
        "お客様番号",
        "登録番号",
        "適格請求書",
        "消費税額等",
        "源泉所得税",
        "前受金",
        "値引",
        "契約番号",
        "担当部署",
        "振込期限",
        "電子帳簿保存",
        "検収日",
        "支払依頼",
        "入金予定",
    },
    "invoice_en": {
        "invoice date",
        "reference",
        "bill to address",
        "ship date",
        "payment method",
        "wire transfer",
        "bank account",
        "routing number",
        "service description",
        "item description",
        "service period",
        "amount paid",
        "balance due",
        "previous balance",
        "currency",
        "notes",
        "terms",
        "prepared by",
        "tax id",
        "contact",
        "remit to",
        "remittance",
        "bank details",
        "swift",
        "iban",
        "payment reference",
        "vendor id",
        "customer id",
        "statement date",
        "prepared for",
        "contact email",
        "billable hours",
        "service period",
        "project code",
        "wire instructions",
    },
    "purchase_order_ja": {
        "注文書",
        "注文番号",
        "発注日",
        "納入予定",
        "検収",
        "支払条件",
        "見積番号",
        "契約番号",
        "合計数量",
        "出荷指示",
        "担当部署",
        "倉庫",
        "仕入担当",
        "承認印",
        "宛先",
        "備考",
        "支払方法",
        "納入先",
        "配送先",
        "品目",
    },
    "purchase_order_en": {
        "purchase order form",
        "order reference",
        "release date",
        "delivery date",
        "shipping method",
        "payment terms",
        "bill of materials",
        "requested ship date",
        "promised date",
        "incoterms",
        "unit cost",
        "extended price",
        "total quantity",
        "department",
        "buyer",
        "approver",
        "comments",
        "ship via",
        "freight",
        "status",
    },
    "medical_bill_ja": {
        "診療費明細",
        "診療日",
        "診療内容",
        "医療機関名",
        "受診科",
        "保険点数",
        "領収額",
        "院外処方",
        "再診料",
        "初診料",
        "検査料",
        "画像診断",
        "注射",
        "処置",
        "入院日数",
        "退院日",
        "保険種別",
        "自己負担額",
        "公費負担",
        "病院名",
        "診療費合計",
        "領収証",
        "領収印",
        "診療項目",
        "診療行為",
        "外来診療",
        "保険割合",
        "本人負担",
        "薬剤名",
        "処方薬",
        "調剤料",
        "再診料",
        "初診料",
        "検査結果",
        "診療報酬",
        "医療費控除",
        "保険給付",
        "公費負担医療",
        "保険区分",
        "患者番号",
    },
    "medical_bill_en": {
        "statement of services",
        "date of service",
        "provider name",
        "facility",
        "copayment",
        "coinsurance",
        "coverage",
        "out-of-pocket",
        "primary insurance",
        "secondary insurance",
        "billing code",
        "procedure code",
        "diagnosis code",
        "amount allowed",
        "patient responsibility",
        "insurance payment",
        "service location",
        "medical record number",
        "claim reference",
        "payer",
        "explanation of benefits",
        "eob",
        "claim number",
        "member id",
        "group number",
        "coverage period",
        "rendering provider",
        "servicing provider",
        "billing provider",
        "allowed amount",
        "plan discount",
        "patient responsibility",
        "benefit amount",
        "claim summary",
        "out-of-pocket maximum",
        "lifetime limit",
        "prior authorization",
        "medical necessity",
        "payment summary",
        "service location",
    },
    "customs_declaration_ja": {
        "税番",
        "通関士",
        "輸入者",
        "輸出者",
        "通関番号",
        "仕入書",
        "船積日",
        "通関港",
        "貨物名",
        "手数料",
        "原価",
        "関税額",
        "消費税額",
        "申告価格",
        "船名",
        "航路",
        "許可日",
        "関税分類",
        "通関地",
        "重量証明",
        "輸入許可書",
        "輸出許可書",
        "輸送書類",
        "船荷証券",
        "航空貨物運送状",
        "通関手数料",
        "税関印",
        "輸入担保",
        "保税",
        "コンテナ番号",
        "積載港",
        "陸揚港",
        "関税法",
        "内国消費税",
        "輸送保険",
        "輸入依頼人",
        "貨物種別",
        "輸送費",
        "輸送保険料",
        "通関指示書",
    },
    "customs_declaration_en": {
        "declaration number",
        "entry number",
        "broker",
        "consignee",
        "consignor",
        "manifest",
        "port code",
        "transport mode",
        "container",
        "gross value",
        "net value",
        "duty rate",
        "tariff code",
        "clearance date",
        "customs officer",
        "inspection",
        "release",
        "freight charges",
        "insurance value",
        "bond",
        "entry summary",
        "importer number",
        "consignee code",
        "bill of lading",
        "awb",
        "commercial invoice",
        "bonded",
        "bond number",
        "clearance status",
        "broker reference",
        "import duty",
        "excise tax",
        "merchandise processing",
        "harbor maintenance fee",
        "customs value",
        "de minimis",
        "country of export",
        "destination control",
        "release notification",
        "container seal",
    },
    "grant_application_ja": {
        "補助金",
        "助成対象",
        "応募要項",
        "事業概要",
        "活動内容",
        "実施期間",
        "代表研究者",
        "共同研究者",
        "採択",
        "審査",
        "成果報告",
        "助成金額",
        "支出内訳",
        "計画書",
        "スケジュール",
        "評価指標",
        "申請理由",
        "背景",
        "ビジョン",
        "継続性",
    },
    "grant_application_en": {
        "funding program",
        "call for proposals",
        "project description",
        "objectives",
        "deliverables",
        "impact",
        "justification",
        "applicant organization",
        "institution",
        "collaborators",
        "timeline",
        "work plan",
        "budget breakdown",
        "matching funds",
        "compliance",
        "ethics",
        "dissemination",
        "review criteria",
        "sustainability",
        "reporting",
        "statement of need",
        "executive summary",
        "project narrative",
        "organizational capacity",
        "evaluation plan",
        "logic model",
        "sustainability plan",
        "matching contribution",
        "cost share",
        "indirect costs",
        "compliance plan",
        "risk assessment",
        "letters of support",
        "memorandum of understanding",
        "mou",
        "institutional review board",
        "irb",
        "human subjects",
        "deliverable schedule",
        "reporting requirement",
    },
    "boarding_pass_ja": {
        "搭乗日",
        "搭乗時間",
        "搭乗開始",
        "搭乗ゲート",
        "座席番号",
        "搭乗券番号",
        "予約番号",
        "旅客氏名",
        "航空会社",
        "手荷物",
        "搭乗クラス",
        "搭乗区間",
        "発券日時",
        "チケット番号",
        "搭乗案内",
        "保安検査",
        "搭乗口",
        "搭乗順",
        "チェックイン",
        "搭乗グループ",
    },
    "boarding_pass_en": {
        "flight number",
        "departure time",
        "arrival time",
        "boarding time",
        "boarding group",
        "seat assignment",
        "gate",
        "terminal",
        "airline",
        "passenger name",
        "ticket number",
        "booking reference",
        "frequent flyer",
        "class",
        "zone",
        "baggage allowance",
        "sequence number",
        "security",
        "check-in",
        "boarding pass",
    },
    "rental_agreement_ja": {
        "賃貸借契約書",
        "賃借人",
        "賃貸人",
        "物件名称",
        "所在地",
        "契約期間",
        "更新料",
        "敷金",
        "礼金",
        "管理費",
        "共益費",
        "保証金",
        "保証会社",
        "契約開始日",
        "契約終了日",
        "中途解約",
        "原状回復",
        "特約",
        "鍵交換費",
        "火災保険",
    },
    "rental_agreement_en": {
        "lease agreement",
        "tenant",
        "landlord",
        "premises",
        "address",
        "lease term",
        "renewal",
        "security deposit",
        "pet deposit",
        "rent due date",
        "late fee",
        "utilities",
        "maintenance",
        "termination",
        "move-in date",
        "move-out date",
        "condition report",
        "notices",
        "liability",
        "insurance",
    },
    "loan_statement_ja": {
        "返済明細",
        "返済日",
        "元金残高",
        "利息額",
        "支払総額",
        "ボーナス返済",
        "月次返済",
        "金利",
        "変動金利",
        "固定金利",
        "返済方法",
        "返済回数",
        "融資金額",
        "約定日",
        "借入残高",
        "保証料",
        "返済予定表",
        "借入日",
        "遅延損害金",
        "支払期日",
    },
    "loan_statement_en": {
        "loan account",
        "statement date",
        "principal balance",
        "interest rate",
        "payment due",
        "installment",
        "amortization",
        "escrow",
        "origination",
        "loan number",
        "branch",
        "past due",
        "late charge",
        "maturity date",
        "outstanding balance",
        "payment schedule",
        "drawdown",
        "collateral",
        "grace period",
        "penalty",
    },
    "travel_itinerary_ja": {
        "旅程表",
        "出発日",
        "到着日",
        "宿泊施設",
        "予約番号",
        "航空券",
        "列車",
        "交通手段",
        "集合場所",
        "現地連絡先",
        "日程",
        "観光",
        "食事",
        "費用",
        "担当者",
        "緊急連絡先",
        "チェックイン",
        "チェックアウト",
        "フライト",
        "ホテル",
    },
    "travel_itinerary_en": {
        "itinerary",
        "departure date",
        "arrival date",
        "hotel",
        "confirmation number",
        "airline",
        "flight segment",
        "train",
        "transportation",
        "pickup",
        "dropoff",
        "meeting point",
        "schedule",
        "activities",
        "meals included",
        "contact",
        "emergency contact",
        "check-in time",
        "check-out time",
        "voucher",
    },
    "bank_statement_ja": {
        "口座名義",
        "銀行名",
        "支店名",
        "口座種別",
        "入出金",
        "振込",
        "振替",
        "残高",
        "残高証明",
        "摘要",
        "取引日",
        "科目",
        "開始残高",
        "終了残高",
        "引落",
        "振替手数料",
        "カード引落",
        "現金出金",
        "入金額",
        "通帳",
    },
    "bank_statement_en": {
        "account statement",
        "account holder",
        "account number",
        "routing number",
        "opening balance",
        "closing balance",
        "debit",
        "credit",
        "deposit",
        "withdrawal",
        "transfer",
        "transaction date",
        "description",
        "balance forward",
        "available balance",
        "statement period",
        "service charge",
        "atm",
        "check",
        "fees",
    },
    "utility_bill_ja": {
        "ご請求額",
        "利用期間",
        "ご使用量",
        "電力量",
        "料金内訳",
        "基本料金",
        "従量料金",
        "燃料調整費",
        "再エネ賦課金",
        "検針日",
        "契約番号",
        "供給地点",
        "払込票",
        "自動引落",
        "口座振替",
        "支払方法",
        "請求番号",
        "電話番号",
        "電気料金",
        "水道料金",
    },
    "utility_bill_en": {
        "utility account",
        "service address",
        "billing period",
        "usage",
        "kwh",
        "therms",
        "water consumption",
        "meter number",
        "meter read",
        "service charge",
        "delivery charge",
        "supply charge",
        "adjustment",
        "past due",
        "current charges",
        "due date",
        "bill number",
        "account id",
        "automatic payment",
        "customer service",
    },
    "insurance_claim_ja": {
        "保険証券番号",
        "被保険者",
        "事故番号",
        "事故日",
        "事故内容",
        "支払決定",
        "給付金",
        "診断書",
        "損害額",
        "支払金額",
        "保険金額",
        "担当者",
        "保険会社",
        "支払方法",
        "通知日",
        "請求日",
        "必要書類",
        "受付番号",
        "審査結果",
        "保険種類",
    },
    "insurance_claim_en": {
        "claim number",
        "policy number",
        "policyholder",
        "incident",
        "loss date",
        "description of loss",
        "adjuster",
        "settlement",
        "benefit",
        "payout",
        "coverage",
        "deductible",
        "documentation",
        "medical report",
        "repair estimate",
        "approval",
        "denial",
        "supporting documents",
        "claim status",
        "provider",
    },
    "tax_form_ja": {
        "確定申告書",
        "申告書",
        "課税所得",
        "所得控除",
        "税額控除",
        "源泉徴収票",
        "納税額",
        "扶養控除",
        "医療費控除",
        "寄附金控除",
        "住宅ローン控除",
        "申告期限",
        "申告者",
        "整理番号",
        "納付書",
        "延納",
        "予定納税",
        "税務署",
        "納付方法",
        "還付金",
    },
    "tax_form_en": {
        "tax return",
        "taxpayer",
        "filing status",
        "adjusted gross income",
        "taxable income",
        "withholding",
        "credits",
        "deductions",
        "w2",
        "1099",
        "schedule",
        "refund",
        "amount owed",
        "extension",
        "dependent",
        "irs",
        "due date",
        "payment voucher",
        "signature",
        "preparer",
    },
    "payslip_ja": {
        "給与支給明細",
        "支給日",
        "支給額",
        "基本給",
        "役職手当",
        "通勤手当",
        "控除合計",
        "社会保険",
        "厚生年金",
        "雇用保険",
        "所得税",
        "住民税",
        "勤怠",
        "労働時間",
        "残業時間",
        "差引支給",
        "社員番号",
        "部署",
        "氏名",
        "支給控除一覧",
    },
    "payslip_en": {
        "pay statement",
        "pay date",
        "earnings",
        "base salary",
        "allowance",
        "transportation",
        "benefits",
        "pretax",
        "posttax",
        "federal tax",
        "state tax",
        "social security",
        "medicare",
        "gross earnings",
        "net earnings",
        "hours",
        "overtime hours",
        "employee id",
        "department",
        "period ending",
    },
    "shipping_notice_ja": {
        "出荷案内書",
        "納品書番号",
        "出荷予定",
        "配送日時",
        "配送方法",
        "運送会社",
        "送り状番号",
        "梱包数",
        "重量",
        "受領日",
        "受領者",
        "納入先",
        "倉庫",
        "ロット",
        "発注番号",
        "ピッキング",
        "荷姿",
        "注意事項",
        "備考",
        "受領印",
    },
    "shipping_notice_en": {
        "delivery notice",
        "advance shipping notice",
        "asn",
        "shipment id",
        "consignment",
        "carrier tracking",
        "pro number",
        "package count",
        "weight",
        "cube",
        "received date",
        "receiver",
        "warehouse",
        "dock",
        "bill of lading",
        "packing slip",
        "consignee",
        "shipper",
        "special instructions",
        "temperature",
    },
    "expense_report_ja": {
        "経費申請",
        "経費区分",
        "用途",
        "利用日",
        "支払方法",
        "立替金額",
        "承認日",
        "部署",
        "上長",
        "証憑",
        "添付資料",
        "精算日",
        "差額",
        "旅費",
        "宿泊費",
        "交際費",
        "備考",
        "明細",
        "摘要",
        "訪問先",
    },
    "expense_report_en": {
        "expense claim",
        "expense type",
        "purpose",
        "travel date",
        "payment method",
        "amount claimed",
        "amount approved",
        "manager",
        "department",
        "receipt attached",
        "supporting document",
        "per diem",
        "mileage",
        "client",
        "project code",
        "notes",
        "submission date",
        "approval date",
        "reimbursement amount",
        "policy",
    },
}

for key, extras in _EXTRA_DOMAIN_KEYWORDS.items():
    bucket = DOMAIN_KEYWORDS.setdefault(key, set())
    for word in extras:
        if word:
            bucket.add(word)

DOMAIN_GROUPS: Dict[str, Set[str]] = {
    "invoice": {"invoice_ja", "invoice_en"},
    "purchase_order": {"purchase_order_ja", "purchase_order_en"},
    "medical_bill": {"medical_bill_ja", "medical_bill_en"},
    "customs_declaration": {"customs_declaration_ja", "customs_declaration_en"},
    "grant_application": {"grant_application_ja", "grant_application_en"},
    "boarding_pass": {"boarding_pass_ja", "boarding_pass_en"},
    "rental_agreement": {"rental_agreement_ja", "rental_agreement_en"},
    "loan_statement": {"loan_statement_ja", "loan_statement_en"},
    "travel_itinerary": {"travel_itinerary_ja", "travel_itinerary_en"},
    "bank_statement": {"bank_statement_ja", "bank_statement_en"},
    "utility_bill": {"utility_bill_ja", "utility_bill_en"},
    "insurance_claim": {"insurance_claim_ja", "insurance_claim_en"},
    "tax_form": {"tax_form_ja", "tax_form_en"},
    "payslip": {"payslip_ja", "payslip_en"},
    "shipping_notice": {"shipping_notice_ja", "shipping_notice_en"},
    "expense_report": {"expense_report_ja", "expense_report_en"},
}

DOMAIN_ALIASES: Dict[str, str] = {
    "invoice_jp": "invoice_ja",
    "invoice_jp_v2": "invoice_ja",
    "invoice_en_v2": "invoice_en",
    "purchase_order_en": "purchase_order_en",
    "purchase_order_jp": "purchase_order_ja",
    "medical_bill_en": "medical_bill_en",
    "medical_bill_jp": "medical_bill_ja",
    "customs_declaration_en": "customs_declaration_en",
    "customs_declaration_jp": "customs_declaration_ja",
    "grant_application_en": "grant_application_en",
    "grant_application_jp": "grant_application_ja",
    "boarding_pass_en": "boarding_pass_en",
    "boarding_pass_jp": "boarding_pass_ja",
    "rental_agreement_en": "rental_agreement_en",
    "rental_agreement_jp": "rental_agreement_ja",
    "loan_statement_en": "loan_statement_en",
    "loan_statement_jp": "loan_statement_ja",
    "travel_itinerary_en": "travel_itinerary_en",
    "travel_itinerary_jp": "travel_itinerary_ja",
    "bank_statement_en": "bank_statement_en",
    "bank_statement_jp": "bank_statement_ja",
    "utility_bill_en": "utility_bill_en",
    "utility_bill_jp": "utility_bill_ja",
    "insurance_claim_en": "insurance_claim_en",
    "insurance_claim_jp": "insurance_claim_ja",
    "tax_form_en": "tax_form_en",
    "tax_form_jp": "tax_form_ja",
    "payslip_en": "payslip_en",
    "payslip_jp": "payslip_ja",
    "shipping_notice_en": "shipping_notice_en",
    "shipping_notice_jp": "shipping_notice_ja",
    "expense_report_en": "expense_report_en",
    "expense_report_jp": "expense_report_ja",
}

_ALL_KEYWORDS: Set[str] = set()
for values in DOMAIN_KEYWORDS.values():
    _ALL_KEYWORDS.update(values)

ALL_KEYWORDS: Set[str] = set(_ALL_KEYWORDS)


def _iter_group_keywords(domain: str) -> Iterable[str]:
    for member in DOMAIN_GROUPS.get(domain, set()):
        yield from DOMAIN_KEYWORDS.get(member, set())


def get_domain_keywords(domain: Optional[str]) -> Set[str]:
    """Return the keyword set for a domain (falls back to the global lexicon)."""
    if not domain:
        return set(ALL_KEYWORDS)
    token = domain.strip().lower()
    token = DOMAIN_ALIASES.get(token, token)
    keywords: Set[str] = set()
    if token in DOMAIN_KEYWORDS:
        keywords.update(DOMAIN_KEYWORDS[token])
    if token in DOMAIN_GROUPS:
        keywords.update(_iter_group_keywords(token))
    if not keywords:
        return set(ALL_KEYWORDS)
    return keywords


def all_domain_keywords() -> Dict[str, Set[str]]:
    """Expose a mapping from domain tokens to their keyword sets."""
    mapping: Dict[str, Set[str]] = {}
    for domain, members in DOMAIN_GROUPS.items():
        bucket: Set[str] = set()
        for member in members:
            bucket.update(DOMAIN_KEYWORDS.get(member, set()))
        if bucket:
            mapping[domain] = bucket
    for domain, keywords in DOMAIN_KEYWORDS.items():
        mapping.setdefault(domain, set()).update(keywords)
    for alias, target in DOMAIN_ALIASES.items():
        if not target:
            continue
        resolved = mapping.get(target) or DOMAIN_KEYWORDS.get(target)
        if resolved:
            mapping.setdefault(alias, set()).update(resolved)
    return mapping


__all__ = [
    "DOMAIN_KEYWORDS",
    "DOMAIN_GROUPS",
    "DOMAIN_ALIASES",
    "ALL_KEYWORDS",
    "get_domain_keywords",
    "all_domain_keywords",
]
